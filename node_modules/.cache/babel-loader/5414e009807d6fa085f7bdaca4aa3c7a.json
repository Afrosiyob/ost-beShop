{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\ost-beShop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\ost-beShop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\n\nvar _toConsumableArray = require(\"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\ost-beShop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.yupResolver = void 0;\n\nvar react_hook_form_1 = require(\"react-hook-form\");\n\nvar parseErrorSchema = function parseErrorSchema(error, validateAllFieldCriteria) {\n  return Array.isArray(error.inner) && error.inner.length ? error.inner.reduce(function (previous, _ref) {\n    var path = _ref.path,\n        message = _ref.message,\n        type = _ref.type;\n    var previousTypes = previous[path] && previous[path].types || {};\n    var key = path || type;\n    return Object.assign(Object.assign({}, previous), key ? {\n      [key]: Object.assign(Object.assign({}, previous[key] || {\n        message,\n        type\n      }), validateAllFieldCriteria ? {\n        types: Object.assign(Object.assign({}, previousTypes), {\n          [type]: previousTypes[type] ? [].concat(_toConsumableArray([].concat(previousTypes[type])), [message]) : message\n        })\n      } : {})\n    } : {});\n  }, {}) : {\n    [error.path]: {\n      message: error.message,\n      type: error.type\n    }\n  };\n};\n\nexports.yupResolver = function (schema) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    abortEarly: false\n  };\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, context) {\n      var validateAllFieldCriteria,\n          parsedErrors,\n          _args = arguments;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              validateAllFieldCriteria = _args.length > 2 && _args[2] !== undefined ? _args[2] : false;\n              _context.prev = 1;\n\n              if (options.context && process.env.NODE_ENV === 'development') {\n                // eslint-disable-next-line no-console\n                console.warn(\"You should not used the yup options context. Please, use the 'useForm' context object instead\");\n              }\n\n              _context.next = 5;\n              return schema.validate(values, Object.assign(Object.assign({}, options), {\n                context\n              }));\n\n            case 5:\n              _context.t0 = _context.sent;\n              _context.t1 = {};\n              return _context.abrupt(\"return\", {\n                values: _context.t0,\n                errors: _context.t1\n              });\n\n            case 10:\n              _context.prev = 10;\n              _context.t2 = _context[\"catch\"](1);\n              parsedErrors = parseErrorSchema(_context.t2, validateAllFieldCriteria);\n              return _context.abrupt(\"return\", {\n                values: {},\n                errors: react_hook_form_1.transformToNestObject(parsedErrors)\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["../src/yup.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,IAAA,iBAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AAGA,IAAM,gBAAgB,GAAG,SAAnB,gBAAmB,CACvB,KADuB,EAEvB,wBAFuB;AAAA,SAIvB,KAAK,CAAC,OAAN,CAAc,KAAK,CAAC,KAApB,KAA8B,KAAK,CAAC,KAAN,CAAY,MAA1C,GACI,KAAK,CAAC,KAAN,CAAY,MAAZ,CACE,UAAC,QAAD,QAA2D;AAAA,QAAzB,IAAyB,QAAzB,IAAyB;AAAA,QAAnB,OAAmB,QAAnB,OAAmB;AAAA,QAAV,IAAU,QAAV,IAAU;AACzD,QAAM,aAAa,GAAI,QAAQ,CAAC,IAAD,CAAR,IAAkB,QAAQ,CAAC,IAAD,CAAR,CAAe,KAAlC,IAA4C,EAAlE;AACA,QAAM,GAAG,GAAG,IAAI,IAAI,IAApB;AAEA,WAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACK,QADL,CAAA,EAEM,GAAG,GACH;AACE,OAAC,GAAD,GAAK,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACC,QAAQ,CAAC,GAAD,CAAR,IAAiB;AACnB,QAAA,OADmB;AAEnB,QAAA;AAFmB,OADlB,CAAA,EAKC,wBAAwB,GACxB;AACE,QAAA,KAAK,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACA,aADA,CAAA,EACa;AAChB,WAAC,IAAD,GAAQ,aAAa,CAAC,IAAD,CAAb,gCACA,GAAG,MAAH,CAAU,aAAa,CAAC,IAAD,CAAvB,CADA,IACgC,OADhC,KAEJ;AAHY,SADb;AADP,OADwB,GASxB,EAdD;AADP,KADG,GAmBH,EArBN,CAAA;AAuBD,GA5BH,EA6BE,EA7BF,CADJ,GAgCI;AACE,KAAC,KAAK,CAAC,IAAP,GAAc;AAAE,MAAA,OAAO,EAAE,KAAK,CAAC,OAAjB;AAA0B,MAAA,IAAI,EAAE,KAAK,CAAC;AAAtC;AADhB,GApCmB;AAAA,CAAzB;;AAwCa,OAAA,CAAA,WAAA,GAAc,UACzB,MADyB;AAAA,MAEzB,OAFyB,uEAEuB;AAC9C,IAAA,UAAU,EAAE;AADkC,GAFvB;AAAA;AAAA,yEAKE,iBAC3B,MAD2B,EAE3B,OAF2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAG3B,cAAA,wBAH2B,2DAGA,KAHA;AAAA;;AAMzB,kBACG,OAA+B,CAAC,OAAhC,IACD,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,aAF3B,EAGE;AACA;AACA,gBAAA,OAAO,CAAC,IAAR,CACE,+FADF;AAGD;;AAdwB;AAAA,qBAgBR,MAAM,CAAC,QAAP,CAAgB,MAAhB,EAAsB,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAChC,OADgC,CAAA,EACzB;AACV,gBAAA;AADU,eADyB,CAAtB,CAhBQ;;AAAA;AAAA;AAAA,4BAoBf,EApBe;AAAA;AAgBvB,gBAAA,MAhBuB;AAoBvB,gBAAA,MApBuB;AAAA;;AAAA;AAAA;AAAA;AAuBnB,cAAA,YAvBmB,GAuBJ,gBAAgB,cAAI,wBAAJ,CAvBZ;AAAA,+CAwBlB;AACL,gBAAA,MAAM,EAAE,EADH;AAEL,gBAAA,MAAM,EAAE,iBAAA,CAAA,qBAAA,CAAsB,YAAtB;AAFH,eAxBkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALF;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.yupResolver = void 0;\nconst react_hook_form_1 = require(\"react-hook-form\");\nconst parseErrorSchema = (error, validateAllFieldCriteria) => Array.isArray(error.inner) && error.inner.length\n    ? error.inner.reduce((previous, { path, message, type }) => {\n        const previousTypes = (previous[path] && previous[path].types) || {};\n        const key = path || type;\n        return Object.assign(Object.assign({}, previous), (key\n            ? {\n                [key]: Object.assign(Object.assign({}, (previous[key] || {\n                    message,\n                    type,\n                })), (validateAllFieldCriteria\n                    ? {\n                        types: Object.assign(Object.assign({}, previousTypes), { [type]: previousTypes[type]\n                                ? [...[].concat(previousTypes[type]), message]\n                                : message }),\n                    }\n                    : {})),\n            }\n            : {}));\n    }, {})\n    : {\n        [error.path]: { message: error.message, type: error.type },\n    };\nexports.yupResolver = (schema, options = {\n    abortEarly: false,\n}) => async (values, context, validateAllFieldCriteria = false) => {\n    try {\n        if (options.context &&\n            process.env.NODE_ENV === 'development') {\n            // eslint-disable-next-line no-console\n            console.warn(\"You should not used the yup options context. Please, use the 'useForm' context object instead\");\n        }\n        return {\n            values: (await schema.validate(values, Object.assign(Object.assign({}, options), { context }))),\n            errors: {},\n        };\n    }\n    catch (e) {\n        const parsedErrors = parseErrorSchema(e, validateAllFieldCriteria);\n        return {\n            values: {},\n            errors: react_hook_form_1.transformToNestObject(parsedErrors),\n        };\n    }\n};\n//# sourceMappingURL=yup.js.map"]},"metadata":{},"sourceType":"script"}