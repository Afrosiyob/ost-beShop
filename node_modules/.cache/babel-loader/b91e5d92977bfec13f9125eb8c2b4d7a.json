{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar axios_1 = require(\"axios\");\n\nvar utility_1 = require(\"./utility\");\n\nvar authHeaderKeys = ['access-token', 'token-type', 'client', 'expiry', 'uid'];\n\nexports.setAuthHeaders = function (headers) {\n  authHeaderKeys.forEach(function (key) {\n    axios_1.default.defaults.headers.common[key] = headers[key];\n  });\n}; // Will have to take a parameter from the package user to determine if this is for a browser or for React Native:\n\n\nexports.persistAuthHeadersInLocalStorage = function (headers) {\n  authHeaderKeys.forEach(function (key) {\n    localStorage.setItem(key, headers[key]);\n  });\n};\n\nexports.deleteAuthHeaders = function () {\n  authHeaderKeys.forEach(function (key) {\n    delete axios_1.default.defaults.headers.common[key];\n  });\n}; // Will have to take a parameter from the package user to determine if this is for a browser or for React Native:\n\n\nexports.deleteAuthHeadersFromLocalStorage = function () {\n  authHeaderKeys.forEach(function (key) {\n    localStorage.removeItem(key);\n  });\n};\n\nexports.getUserAttributesFromResponse = function (userAttributes, response) {\n  var invertedUserAttributes = utility_1.invertMapKeysAndValues(userAttributes);\n  var userAttributesBackendKeys = Object.keys(invertedUserAttributes);\n  var userAttributesToReturn = {};\n  Object.keys(response.data.data).forEach(function (key) {\n    if (userAttributesBackendKeys.indexOf(key) !== -1) {\n      userAttributesToReturn[invertedUserAttributes[key]] = response.data.data[key];\n    }\n  });\n  return userAttributesToReturn;\n};","map":{"version":3,"sources":["../../src/services/auth.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAOA,IAAM,cAAc,GAAkB,CACpC,cADoC,EAEpC,YAFoC,EAGpC,QAHoC,EAIpC,QAJoC,EAKpC,KALoC,CAAtC;;AAQa,OAAA,CAAA,cAAA,GAAiB,UAAC,OAAD,EAAqB;AACjD,EAAA,cAAc,CAAC,OAAf,CAAuB,UAAC,GAAD,EAAY;AACjC,IAAA,OAAA,CAAA,OAAA,CAAM,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,GAA9B,IAAqC,OAAO,CAAC,GAAD,CAA5C;AACD,GAFD;AAGD,CAJY,C,CAMb;;;AACa,OAAA,CAAA,gCAAA,GAAmC,UAAC,OAAD,EAAqB;AACnE,EAAA,cAAc,CAAC,OAAf,CAAuB,UAAC,GAAD,EAAY;AACjC,IAAA,YAAY,CAAC,OAAb,CAAqB,GAArB,EAA0B,OAAO,CAAC,GAAD,CAAjC;AACD,GAFD;AAGD,CAJY;;AAMA,OAAA,CAAA,iBAAA,GAAoB,YAAA;AAC/B,EAAA,cAAc,CAAC,OAAf,CAAuB,UAAC,GAAD,EAAY;AACjC,WAAO,OAAA,CAAA,OAAA,CAAM,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,GAA9B,CAAP;AACD,GAFD;AAGD,CAJY,C,CAMb;;;AACa,OAAA,CAAA,iCAAA,GAAoC,YAAA;AAC/C,EAAA,cAAc,CAAC,OAAf,CAAuB,UAAC,GAAD,EAAY;AACjC,IAAA,YAAY,CAAC,UAAb,CAAwB,GAAxB;AACD,GAFD;AAGD,CAJY;;AAMA,OAAA,CAAA,6BAAA,GAAgC,UAC3C,cAD2C,EAE3C,QAF2C,EAErB;AAEtB,MAAM,sBAAsB,GAAyB,SAAA,CAAA,sBAAA,CAAuB,cAAvB,CAArD;AACA,MAAM,yBAAyB,GAAa,MAAM,CAAC,IAAP,CAAY,sBAAZ,CAA5C;AACA,MAAM,sBAAsB,GAAyB,EAArD;AACA,EAAA,MAAM,CAAC,IAAP,CAAY,QAAQ,CAAC,IAAT,CAAc,IAA1B,EAAgC,OAAhC,CAAwC,UAAC,GAAD,EAAY;AAClD,QAAI,yBAAyB,CAAC,OAA1B,CAAkC,GAAlC,MAA2C,CAAC,CAAhD,EAAmD;AACjD,MAAA,sBAAsB,CAAC,sBAAsB,CAAC,GAAD,CAAvB,CAAtB,GAAsD,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,GAAnB,CAAtD;AACD;AACF,GAJD;AAKA,SAAO,sBAAP;AACD,CAbY","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar axios_1 = require(\"axios\");\nvar utility_1 = require(\"./utility\");\nvar authHeaderKeys = [\n    'access-token',\n    'token-type',\n    'client',\n    'expiry',\n    'uid',\n];\nexports.setAuthHeaders = function (headers) {\n    authHeaderKeys.forEach(function (key) {\n        axios_1.default.defaults.headers.common[key] = headers[key];\n    });\n};\n// Will have to take a parameter from the package user to determine if this is for a browser or for React Native:\nexports.persistAuthHeadersInLocalStorage = function (headers) {\n    authHeaderKeys.forEach(function (key) {\n        localStorage.setItem(key, headers[key]);\n    });\n};\nexports.deleteAuthHeaders = function () {\n    authHeaderKeys.forEach(function (key) {\n        delete axios_1.default.defaults.headers.common[key];\n    });\n};\n// Will have to take a parameter from the package user to determine if this is for a browser or for React Native:\nexports.deleteAuthHeadersFromLocalStorage = function () {\n    authHeaderKeys.forEach(function (key) {\n        localStorage.removeItem(key);\n    });\n};\nexports.getUserAttributesFromResponse = function (userAttributes, response) {\n    var invertedUserAttributes = utility_1.invertMapKeysAndValues(userAttributes);\n    var userAttributesBackendKeys = Object.keys(invertedUserAttributes);\n    var userAttributesToReturn = {};\n    Object.keys(response.data.data).forEach(function (key) {\n        if (userAttributesBackendKeys.indexOf(key) !== -1) {\n            userAttributesToReturn[invertedUserAttributes[key]] = response.data.data[key];\n        }\n    });\n    return userAttributesToReturn;\n};\n//# sourceMappingURL=auth.js.map"]},"metadata":{},"sourceType":"script"}