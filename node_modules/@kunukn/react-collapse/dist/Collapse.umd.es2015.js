!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):(t=t||self).Collapse=e(t.React)}(this,function(t){"use strict";function e(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function i(t,e){if(null==t)return{};var s,n,i=function(t,e){if(null==t)return{};var s,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)s=o[n],e.indexOf(s)>=0||(i[s]=t[s]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)s=o[n],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}t=t&&t.hasOwnProperty("default")?t.default:t;const o="collapsed",a="collapsing",l="expanding",r="expanded";class p extends t.Component{constructor(...t){super(...t),e(this,"state",{collapseState:this.props.isOpen?r:o,collapseStyle:{height:this.props.isOpen?null:u(this.props),visibility:this.props.isOpen?null:f(this.props)}}),e(this,"onTransitionEnd",({target:t,propertyName:e})=>{if(t===this.content&&"height"===e)switch(this.state.collapseState,t.style.height,this.state.collapseState){case l:"0px"===t.style.height||this.setState({collapseState:r});break;case a:"0px"!==t.style.height?t.style.height:this.setState({collapseState:o});break;default:this.state.collapseState}}),e(this,"getHeight",()=>`${this.content.scrollHeight}px`),e(this,"onCallback",t=>{t&&t(function(t){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?n(i,!0).forEach(function(s){e(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},this.state,{isMoving:h(this.state.collapseState)}))}),e(this,"setCollapsed",()=>{this.content&&this.setState({collapseStyle:{height:u(this.props),visibility:f(this.props)}},()=>this.onCallback(this.props.onChange))}),e(this,"setCollapsing",()=>{if(!this.content)return;const t=this.getHeight();this.setState({collapseStyle:{height:t,visibility:""}}),c(()=>{this.setState({collapseStyle:{height:u(this.props),visibility:""}},()=>this.onCallback(this.props.onChange))})}),e(this,"setExpanding",()=>{c(()=>{if(this.content){const t=this.getHeight();this.setState({collapseStyle:{height:t,visibility:""}},()=>this.onCallback(this.props.onChange))}})}),e(this,"setExpanded",()=>{this.content&&this.setState({collapseStyle:{height:"",visibility:""}},()=>this.onCallback(this.props.onChange))})}render(){const e=this.props,{className:n,addState:o,children:a,transition:l,style:p,render:c,elementType:h,noAnim:u,overflowOnExpanded:f,collapseHeight:d,onInit:g,onChange:y,isOpen:b}=e,O=i(e,["className","addState","children","transition","style","render","elementType","noAnim","overflowOnExpanded","collapseHeight","onInit","onChange","isOpen"]);let S={overflow:this.state.collapseState===r&&f?"":"hidden",transition:l};Object.assign(S,p),Object.assign(S,this.state.collapseStyle);const m=h||"div";let v=o?`${n} --c-${this.state.collapseState}`:n;return t.createElement(m,s({ref:t=>{this.content=t},style:S,className:v,onTransitionEnd:this.onTransitionEnd},O),"function"==typeof a?a(this.state.collapseState):"function"==typeof c?c(this.state.collapseState):a)}static getDerivedStateFromProps(t,e){const s=e.collapseState===r||e.collapseState===l;return!s&&t.isOpen?{collapseState:t.noAnim?r:l}:s&&!t.isOpen?{collapseState:t.noAnim?o:a}:null}componentDidMount(){this.onCallback(this.props.onInit)}componentDidUpdate(t,e){if(this.content&&this.state.collapseState!==e.collapseState)switch(this.state.collapseState){case l:this.setExpanding();break;case a:this.setCollapsing();break;case r:this.setExpanded();break;case o:this.setCollapsed()}}}function c(t){requestAnimationFrame(()=>requestAnimationFrame(t))}function h(t){return t===l||t===a}function u(t){return t.collapseHeight||"0px"}function f(t){return t.collapseHeight?"":"hidden"}return e(p,"defaultProps",{style:{}}),p});
//# sourceMappingURL=Collapse.umd.es2015.js.map
